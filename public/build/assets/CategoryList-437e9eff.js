import{Q as C,r as a,j as B,o as p,c as f,e as D,f as $,a as e,F as M,m as S,u as V,p as z,v as A,d as j,t as F,O as g}from"./app-eca1849b.js";import{S as n}from"./sweetalert2.all-c94210f1.js";const T={class:"p-3 sm:p-5"},E={class:"relative z-0 w-full mb-6 group"},N=e("label",{for:"category_name",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Category Name",-1),U=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Submit",-1),O={class:"mx-auto max-w-screen-xl px-4 lg:px-12"},L={class:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden"},q={class:"overflow-x-auto"},P={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},Q=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3"},"Category Name"),e("th",{scope:"col",class:"px-4 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1),R={scope:"row",class:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Y={class:"px-4 py-3 flex items-center justify-end"},G=["id","data-dropdown-toggle"],H=e("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})],-1),I=[H],J=["id"],K=["aria-labelledby"],W=["onClick"],X={class:"py-1"},Z=["onClick"],ae={__name:"CategoryList",setup(ee){const x=C().props.categories;a("");const m=a(!1),d=a(!1),r=a(!1),c=a(""),l=a(""),i=a(""),y=(o,s)=>{c.value=o.id,l.value=o.name,i.value=o.description,d.value=!0,m.value=!1,r.value=!0},b=()=>{m.value=!0,r.value=!0,d.value=!1},v=async()=>{const o=new FormData;o.append("name",l.value),o.append("description",i.value);try{await g.post("categories/store",o,{onSuccess:s=>{n.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:s.props.flash.success}),r.value=!1,h()}})}catch(s){console.log(s)}},w=async()=>{const o=new FormData;o.append("name",l.value),o.append("description",i.value),o.append("_method","PUT");try{await g.post(`categories/update/${c.value}`,o,{onSuccess:s=>{r.value=!1,h(),n.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:s.props.flash.success})}})}catch(s){console.log(s)}},_=(o,s)=>{n.fire({title:"Remove this Category?",text:"This Action Can't be Undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete this Category."}).then(u=>{if(u.isConfirmed)try{g.delete(`categories/destroy/${o.id}`,{onSuccess:t=>{t.props.flash.error?n.fire({icon:"error",title:"Oops...",text:t.props.flash.error}):n.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:t.props.flash.success})}})}catch(t){console.log(t)}})},h=()=>{c.value="",l.value="",i.value=""};return(o,s)=>{const u=B("el-dialog");return p(),f("section",T,[D(u,{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=t=>r.value=t),title:d.value?"Edit Category":"Add Category",width:"30%","before-close":o.handleClose},{default:$(()=>[e("form",{onSubmit:s[1]||(s[1]=j(t=>d.value?w():v(),["prevent"]))},[e("div",E,[z(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t),type:"text",name:"category_name",id:"category_name",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:""},null,512),[[A,l.value]]),N]),U],32)]),_:1},8,["modelValue","title","before-close"]),e("div",O,[e("div",L,[e("div",{class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"},[e("div",{class:"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0"},[e("button",{type:"button",onClick:b,class:"flex items-center justify-center text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Add Category ")])]),e("div",q,[e("table",P,[Q,e("tbody",null,[(p(!0),f(M,null,S(V(x),(t,te)=>(p(),f("tr",{key:t.id,class:"border-b dark:border-gray-700"},[e("th",R,F(t.name),1),e("td",Y,[e("button",{id:`${t.id}-button`,"data-dropdown-toggle":`${t.id}`,class:"inline-flex items-center p-0.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},I,8,G),e("div",{id:`${t.id}`,class:"hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600"},[e("ul",{class:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":`${t.id}-button`},[e("li",null,[e("a",{href:"#",onClick:k=>y(t),class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},"Edit",8,W)])],8,K),e("div",X,[e("a",{href:"#",onClick:k=>_(t),class:"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},"Delete",8,Z)])],8,J)])]))),128))])])])])])])}}};export{ae as default};
