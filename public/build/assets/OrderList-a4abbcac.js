import{Q as c,r as o,x as L,o as a,c as n,a as e,d as q,p as M,v as $,F as D,m as U,t as l,O as j}from"./app-eca1849b.js";const z={class:"p-3 sm:p-5"},A={class:"mx-auto max-w-screen-xl px-4 lg:px-12"},O={class:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden"},T={class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"},E={class:"w-full md:w-1/2"},V=e("label",{for:"simple-search",class:"sr-only"},"Search",-1),F={class:"relative w-full"},Q=e("button",{type:"submit",class:"absolute inset-y-0 right-0 flex items-center px-4 font-bold text-white bg-blue-700 rounded-r-lg"},"Search",-1),R={class:"overflow-x-auto"},N={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},Y=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3"},"Category name"),e("th",{scope:"col",class:"px-4 py-3"},"slug"),e("th",{scope:"col",class:"px-4 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1),G={scope:"row",class:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white"},H={class:"px-4 py-3"},I={class:"px-4 py-3"},J={class:"px-4 py-3"},K={class:"px-4 py-3"},W={class:"px-4 py-3"},X={key:0,class:"bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300"},Z={key:1,class:"bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300"},ee={class:"px-4 py-3"},te={key:0,type:"button",class:"px-3 py-2 text-xs font-medium text-center text-white bg-green-700 rounded-lg hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"},se={key:1,type:"button",class:"px-3 py-2 text-xs font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"},oe={class:"px-4 py-3 flex items-center justify-end"},re=["id","data-dropdown-toggle"],ae=e("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})],-1),ne=[ae],de=["id"],ie=["aria-labelledby"],le=["onClick"],ce={class:"py-1"},ue=["onClick"],he={__name:"OrderList",props:{products:Array},setup(u){c().props.brands,c().props.categories;const d=o(""),g=o(!1),h=o(!1),x=o(!1);o([]),o("");const y=o(""),p=o(""),f=o(""),b=o(""),m=o(""),_=o([]);o("");const w=o(""),v=o("");o("");const k=(t,r)=>{console.log(t,r),y.value=t.id,p.value=t.title,f.value=t.price,b.value=t.quantity,m.value=t.description,v.value=t.brand_id,w.value=t.category_id,_.value=t.product_images,h.value=!0,g.value=!1,x.value=!0},C=(t,r)=>{Swal.fire({title:"Delete this Product?",text:"This Action Can't be Undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete this Product."}).then(s=>{if(s.isConfirmed)try{j.delete("products/destory/"+t.id,{onSuccess:i=>{this.delete(t,r),Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:i.props.flash.success})}})}catch(i){console.log(i)}})},S=()=>{const t=new URL(window.location.href);t.searchParams.set("query",d.value),window.location.href=t.toString()},B=()=>{const t=new URL(window.location.href);t.searchParams.delete("query"),window.location.href=t.toString()};return L(()=>{if(!d.value)return products.value;const t=d.value.toLowerCase();return products.value.filter(r=>r.title.toLowerCase().includes(t)||r.category.name.toLowerCase().includes(t)||r.brand.name.toLowerCase().includes(t))}),(t,r)=>(a(),n("section",z,[e("div",A,[e("div",O,[e("div",T,[e("div",E,[e("form",{class:"flex items-center",onSubmit:q(S,["prevent"])},[V,e("div",F,[M(e("input",{type:"text",id:"simple-search","onUpdate:modelValue":r[0]||(r[0]=s=>d.value=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search",required:""},null,512),[[$,d.value]]),Q])],32)]),e("div",{class:"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0"},[e("button",{onClick:B,class:"flex items-center justify-center text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Clear Search ")])]),e("div",R,[e("table",N,[Y,e("tbody",null,[(a(!0),n(D,null,U(u.products,(s,i)=>(a(),n("tr",{key:s.id,class:"border-b dark:border-gray-700"},[e("th",G,l(s.title),1),e("td",H,l(s.category.name),1),e("td",I,l(s.brand.name),1),e("td",J,l(s.quantity),1),e("td",K,"$"+l(s.price),1),e("td",W,[s.inStock==0?(a(),n("span",X,"inStock")):(a(),n("span",Z,"Out of Stock"))]),e("td",ee,[s.published==0?(a(),n("button",te,"Published")):(a(),n("button",se,"UnPublished"))]),e("td",oe,[e("button",{id:`${s.id}-button`,"data-dropdown-toggle":`${s.id}`,class:"inline-flex items-center p-0.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},ne,8,re),e("div",{id:`${s.id}`,class:"hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600"},[e("ul",{class:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":`${s.id}-button`},[e("li",null,[e("a",{href:"#",onClick:P=>k(s),class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},"Edit",8,le)])],8,ie),e("div",ce,[e("a",{href:"#",onClick:P=>C(s,i),class:"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},"Delete",8,ue)])],8,de)])]))),128))])])])])])]))}};export{he as default};
