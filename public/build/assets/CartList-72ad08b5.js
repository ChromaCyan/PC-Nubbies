import{x as p,J as A,o as n,k as V,f as U,Q as u,a as t,c as g,m as M,t as y,d as m,n as $,p as i,v as d,F as z,O as b}from"./app-eca1849b.js";import B from"./UserLayouts-02fc95e8.js";import"./index-f029eb2b.js";import"./Header-16b0f5e7.js";import"./Footer-bd6cbed4.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                             */const Q={class:"text-gray-600 body-font relative"},j={class:"container px-5 py-24 mx-auto flex sm:flex-nowrap flex-wrap"},I={class:"lg:w-2/3 md:w-1/2 rounded-lg sm:mr-10 p-10"},S={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},F=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"},[t("span",{class:"sr-only"},"Image")]),t("th",{scope:"col",class:"px-6 py-3"}," Product "),t("th",{scope:"col",class:"px-6 py-3"}," Qty "),t("th",{scope:"col",class:"px-6 py-3"}," Price "),t("th",{scope:"col",class:"px-6 py-3"}," Action ")])],-1),P={class:"w-32 p-4"},N=["src"],O={key:1,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/330px-No-Image-Placeholder.svg.png",alt:"Apple Watch"},D={class:"px-6 py-4 font-semibold text-gray-900 dark:text-white"},L={class:"px-6 py-4"},T={class:"flex items-center space-x-3"},W=["onClick","disabled"],E=t("span",{class:"sr-only"},"Quantity button",-1),J=t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 2"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 1h16"})],-1),R=[E,J],Z=["onUpdate:modelValue"],G=["onClick"],H=t("span",{class:"sr-only"},"Quantity button",-1),K=t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})],-1),X=[H,K],Y={class:"px-6 py-4 font-semibold text-gray-900 dark:text-white"},tt={class:"px-6 py-4"},et=["onClick"],ot={class:"lg:w-1/3 md:w-1/2 bg-white flex flex-col md:ml-auto w-full md:py-8 mt-8 md:mt-0"},st=t("h2",{class:"text-gray-900 text-lg mb-1 font-medium title-font"},"Summary",-1),rt={class:"leading-relaxed mb-5 text-gray-600"},at=t("div",null,[t("p",{class:"leading-relaxed mb-5 text-gray-600"}," Add shipping address to continue")],-1),nt={class:"relative mb-4"},it=t("label",{for:"name",class:"leading-7 text-sm text-gray-600"},"Address 1",-1),dt={class:"relative mb-4"},lt=t("label",{for:"email",class:"leading-7 text-sm text-gray-600"},"City",-1),ct={class:"relative mb-4"},ut=t("label",{for:"email",class:"leading-7 text-sm text-gray-600"},"State",-1),gt={class:"relative mb-4"},pt=t("label",{for:"email",class:"leading-7 text-sm text-gray-600"},"Zipcode",-1),yt={class:"relative mb-4"},mt=t("label",{for:"email",class:"leading-7 text-sm text-gray-600"},"Country Code",-1),bt={class:"relative mb-4"},xt=t("label",{for:"email",class:"leading-7 text-sm text-gray-600"},"Address type",-1),ht={key:0,type:"submit",class:"text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg"},_t={key:1,type:"submit",class:"text-white bg-gray-500 border-0 py-2 px-6 focus:outline-none hover:bg-gray-600 rounded text-lg"},ft=t("p",{class:"text-xs text-gray-500 mt-3"},"Continue Shopping ",-1),Ut={__name:"CartList",props:{userAddress:Object},setup(f){const r=p(()=>u().props.cart.data.items),v=p(()=>u().props.cart.data.products),k=p(()=>u().props.cart.data.total),l=a=>r.value.findIndex(s=>s.product_id===a),o=A({address1:null,state:null,city:null,zipcode:null,country_code:null,type:null}),x=p(()=>o.address1!==null&&o.state!==null&&o.city!==null&&o.zipcode!==null&&o.country_code!==null&&o.type!==null),h=(a,s)=>{const e=r.value.find(q=>q.product_id===a.id),c=a.quantity,_=Math.min(Math.max(1,s),c);_!==e.quantity&&b.patch(route("cart.update",a),{quantity:_})},w=a=>b.delete(route("cart.delete",a));function C(){if(!x.value){alert("Fill up all the fields first before proceeding!");return}b.visit(route("checkout.store"),{method:"post",data:{carts:u().props.cart.data.items,products:u().props.cart.data.products,total:u().props.cart.data.total,address:o}})}return(a,s)=>(n(),V(B,null,{default:U(()=>[t("section",Q,[t("div",j,[t("div",I,[t("table",S,[F,t("tbody",null,[(n(!0),g(z,null,M(v.value,e=>(n(),g("tr",{key:e.id,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[t("td",P,[e.product_images.length>0?(n(),g("img",{key:0,src:`${e.product_images[0].image}`,alt:"Apple Watch"},null,8,N)):(n(),g("img",O))]),t("td",D,y(e.title),1),t("td",L,[t("div",T,[t("button",{onClick:m(c=>h(e,r.value[l(e.id)].quantity-1),["prevent"]),disabled:r.value[l(e.id)].quantity<=1,class:$([r.value[l(e.id)].quantity>1?"cursor-pointer text-purple-600":"cursor-not-allowed text-gray-300 dark:text-gray-500","inline-flex items-center justify-center p-1 text-sm font-medium h-6 w-6 text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"]),type:"button"},R,10,W),t("div",null,[i(t("input",{type:"number",id:"first_product","onUpdate:modelValue":c=>r.value[l(e.id)].quantity=c,class:"bg-gray-50 w-14 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block px-2.5 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"1",required:""},null,8,Z),[[d,r.value[l(e.id)].quantity]])]),t("button",{onClick:m(c=>h(e,r.value[l(e.id)].quantity+1),["prevent"]),class:"inline-flex items-center justify-center h-6 w-6 p-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",type:"button"},X,8,G)])]),t("td",Y," $"+y(e.price),1),t("td",tt,[t("a",{onClick:c=>w(e),class:"font-medium text-red-600 dark:text-red-500 hover:underline"},"Remove",8,et)])]))),128))])])]),t("div",ot,[st,t("p",rt,"Total : $ "+y(k.value),1),at,t("form",{onSubmit:m(C,["prevent"])},[t("div",nt,[it,i(t("input",{type:"text",id:"name",name:"address1","onUpdate:modelValue":s[0]||(s[0]=e=>o.address1=e),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[d,o.address1]])]),t("div",dt,[lt,i(t("input",{type:"text",id:"email",name:"city","onUpdate:modelValue":s[1]||(s[1]=e=>o.city=e),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[d,o.city]])]),t("div",ct,[ut,i(t("input",{type:"text",id:"email",name:"state","onUpdate:modelValue":s[2]||(s[2]=e=>o.state=e),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[d,o.state]])]),t("div",gt,[pt,i(t("input",{type:"text",id:"email",name:"zipcode","onUpdate:modelValue":s[3]||(s[3]=e=>o.zipcode=e),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[d,o.zipcode]])]),t("div",yt,[mt,i(t("input",{type:"text",id:"email",name:"countrycode","onUpdate:modelValue":s[4]||(s[4]=e=>o.country_code=e),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[d,o.country_code]])]),t("div",bt,[xt,i(t("input",{type:"text",id:"email",name:"type","onUpdate:modelValue":s[5]||(s[5]=e=>o.type=e),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[d,o.type]])]),x.value||f.userAddress?(n(),g("button",ht,"Checkout")):(n(),g("button",_t,"Add Address to continue"))],32),ft])])])]),_:1}))}};export{Ut as default};
