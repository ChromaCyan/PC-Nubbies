import{Q as L,r as s,x as $,j as q,o as f,c as g,e as A,f as j,a as e,d as _,p as u,v as x,F as N,m as P,u as T,y as k,b as E,t as m,O as v}from"./app-eca1849b.js";const G={class:"p-3 sm:p-5"},O={class:"relative z-0 w-full mb-6 group"},Q=e("label",{for:"name",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Name",-1),H={class:"relative z-0 w-full mb-6 group"},I=e("label",{for:"email",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Email",-1),J={class:"relative z-0 w-full mb-6 group"},K=e("option",{value:"0"},"Male",-1),W=e("option",{value:"1"},"Female",-1),X=[K,W],Y=e("label",{for:"gender",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Gender",-1),Z={class:"relative z-0 w-full mb-6 group"},ee=e("option",{value:"0"},"Under 18",-1),te=e("option",{value:"1"},"18-24",-1),oe=e("option",{value:"2"},"25-34",-1),ae=e("option",{value:"3"},"35-44",-1),se=e("option",{value:"4"},"45-54",-1),re=e("option",{value:"5"},"55-64",-1),le=e("option",{value:"6"},"65+",-1),ne=[ee,te,oe,ae,se,re,le],de=e("label",{for:"ageRange",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Age Range",-1),ce={key:0,type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},ie={class:"mx-auto max-w-screen-xl px-4 lg:px-12"},ue={class:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden"},pe={class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"},fe={class:"w-full md:w-1/2"},ge=e("label",{for:"simple-search",class:"sr-only"},"Search",-1),me={class:"relative w-full"},be=e("button",{type:"submit",class:"absolute inset-y-0 right-0 flex items-center px-4 font-bold text-white bg-blue-700 rounded-r-lg"},"Search",-1),he={class:"overflow-x-auto"},ye={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},xe=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3"},"Name"),e("th",{scope:"col",class:"px-4 py-3"},"Email"),e("th",{scope:"col",class:"px-4 py-3"},"Gender"),e("th",{scope:"col",class:"px-4 py-3"},"Age Range"),e("th",{scope:"col",class:"px-4 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1),ve={scope:"row",class:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white"},we={class:"px-4 py-3"},_e={class:"px-4 py-3"},ke={class:"px-4 py-3"},Ce={class:"px-4 py-3 flex items-center justify-end"},Ue=["id","data-dropdown-toggle"],Se=e("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewbox:"0  0  20  20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6  10a2  2  0  11-4  0  2  2  0  014  0zM12  10a2  2  0  11-4  0  2  2  0  014  0zM16  12a2  2  0  100-4  2  2  0  000  4z"})],-1),Ve=[Se],ze=["id"],Be=["aria-labelledby"],Me=["onClick"],Re={class:"py-1"},De=["onClick"],qe={__name:"UserList",setup(Fe){const b=L().props.users,c=s(""),C=s(!1),p=s(!1),i=s(!1),h=s(""),r=s(""),l=s(""),n=s(!1),d=s(!1),U=s(""),S=s(""),V=(t,a)=>{h.value=t.id,r.value=t.name,l.value=t.email,n.value=t.gender,d.value=t.age_range,p.value=!0,C.value=!1,i.value=!0},z=async()=>{const t=new FormData;t.append("name",r.value),t.append("email",l.value),t.append("gender",n.value),t.append("age_range",d.value),t.append("password",U.value),t.append("password_confirmation",S.value);try{await v.post("users/store",t,{onSuccess:a=>{Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:a.props.flash.success}),i.value=!1,w()}})}catch(a){console.log(a)}},B=async()=>{const t=new FormData;t.append("name",r.value),t.append("email",l.value),t.append("gender",n.value),t.append("age_range",d.value),t.append("_method","PUT");try{await v.post("users/update/"+h.value,t,{onSuccess:a=>{i.value=!1,w(),Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:a.props.flash.success})}})}catch(a){console.log(a)}},w=()=>{h.value="",r.value="",l.value="",n.value=!1,d.value=!1},M=(t,a)=>{Swal.fire({title:"Remove this User?",text:"This Action Can't be Undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancel",confirmButtonText:"Confirm"}).then(y=>{if(y.isConfirmed)try{v.delete("users/destroy/"+t.id,{onSuccess:o=>{Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:o.props.flash.success})}})}catch(o){console.log(o)}})},R=()=>{const t=new URL(window.location.href);t.searchParams.set("query",c.value),window.location.href=t.toString()},D=()=>{const t=new URL(window.location.href);t.searchParams.delete("query"),window.location.href=t.toString()};return $(()=>{if(!c.value)return b.value;const t=c.value.toLowerCase();return b.value.filter(a=>a.name.toLowerCase().includes(t)||a.email.toLowerCase().includes(t))}),(t,a)=>{const y=q("el-dialog");return f(),g("section",G,[A(y,{modelValue:i.value,"onUpdate:modelValue":a[5]||(a[5]=o=>i.value=o),title:p.value?"User Profile":"Add User",width:"30%","before-close":t.handleClose},{default:j(()=>[e("form",{onSubmit:a[4]||(a[4]=_(o=>p.value?B():z(),["prevent"]))},[e("div",O,[u(e("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>r.value=o),type:"text",name:"name",id:"name",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:""},null,512),[[x,r.value]]),Q]),e("div",H,[u(e("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>l.value=o),type:"email",name:"email",id:"email",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:""},null,512),[[x,l.value]]),I]),e("div",J,[u(e("select",{"onUpdate:modelValue":a[2]||(a[2]=o=>n.value=o),name:"gender",id:"gender",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},X,512),[[k,n.value]]),Y]),e("div",Z,[u(e("select",{"onUpdate:modelValue":a[3]||(a[3]=o=>d.value=o),name:"ageRange",id:"ageRange",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},ne,512),[[k,d.value]]),de]),p.value?E("",!0):(f(),g("button",ce," Submit "))],32)]),_:1},8,["modelValue","title","before-close"]),e("div",ie,[e("div",ue,[e("div",pe,[e("div",fe,[e("form",{class:"flex items-center",onSubmit:_(R,["prevent"])},[ge,e("div",me,[u(e("input",{type:"text",id:"simple-search","onUpdate:modelValue":a[6]||(a[6]=o=>c.value=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search",required:""},null,512),[[x,c.value]]),be])],32)]),e("div",{class:"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0"},[e("button",{onClick:D,class:"flex items-center justify-center text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Clear Search ")])]),e("div",he,[e("table",ye,[xe,e("tbody",null,[(f(!0),g(N,null,P(T(b),(o,Le)=>(f(),g("tr",{key:o.id,class:"border-b dark:border-gray-700"},[e("th",ve,m(o.name),1),e("td",we,m(o.email),1),e("td",_e,m(o.gender?"Female":"Male"),1),e("td",ke,m(["Under 18","18-24","25-34","35-44","45-54","55-64","65+"][o.age_range]),1),e("td",Ce,[e("button",{id:`${o.id}-button`,"data-dropdown-toggle":`${o.id}`,class:"inline-flex items-center p-0.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},Ve,8,Ue),e("div",{id:`${o.id}`,class:"hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600"},[e("ul",{class:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":`${o.id}-button`},[e("li",null,[e("a",{href:"#",onClick:F=>V(o),class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},"View Profile",8,Me)])],8,Be),e("div",Re,[e("a",{href:"#",onClick:F=>M(o),class:"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"},"Remove",8,De)])],8,ze)])]))),128))])])])])])])}}};export{qe as default};
